<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Theme 10 ‚Äî People at Work</title>
  <style>
    body {
      font-family: Verdana, sans-serif;
      background: linear-gradient(180deg,#fff7f0 0%,#ffe1c7 100%);
      margin: 0;
      color: #5a2a00;
      text-align: center;
    }
    header {
      background: linear-gradient(90deg,#b85c00,#ff8c1a);
      color: white;
      padding: 0.6rem 1rem;
      border-bottom: 5px solid #ffcc66;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .logo {
      width: 55px; height: 55px;
      border-radius: 50%;
      border: 3px solid #ffcc66;
      object-fit: cover;
      background: white;
    }
    h2 {color:#b85c00;}
    section {
      background: white;
      border-radius: 16px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      padding: 15px;
      max-width: 800px;
      margin: 15px auto;
      text-align: left;
      line-height: 1.5;
      font-size: 0.95rem;
    }
    h3 {
      background: #b85c00;
      color: white;
      padding: 6px 10px;
      border-radius: 8px;
      font-size: 1rem;
    }
    .btn {
      display:inline-block;
      margin:6px;
      padding:8px 14px;
      border:none;
      border-radius:10px;
      background:#b85c00;
      color:white;
      font-weight:bold;
      cursor:pointer;
      font-size:0.9rem;
    }
    .btn:hover {background:#ffcc66; color:#b85c00;}
    textarea {
      width:100%;
      border-radius:10px;
      border:1px solid #ccc;
      padding:6px;
      font-family:inherit;
      font-size:0.9rem;
    }
    input[type="text"] {
      width:100%;
      max-width:380px;
      border-radius:8px;
      border:1px solid #ccc;
      padding:4px 6px;
      font-family:inherit;
      font-size:0.9rem;
    }
    select {
      border-radius:8px;
      padding:2px 4px;
      font-size:0.9rem;
    }
  </style>
</head>
<body>
<header>
  <div style="display:flex;align-items:center;gap:10px;">
    <img src="logo.png" class="logo" alt="AI Bayan logo">
    <div>
      <h1 style="margin:0;font-size:1rem;">Theme 10 ‚Äî People at Work</h1>
      <p style="margin:0;color:#ffe9b5;">English with AI Bayan</p>
    </div>
  </div>
</header>

<main>
  <h2>üè¢ People at Work</h2>
  <p style="font-style:italic;">Jobs, workplaces and daily routines</p>
  <p id="lessonStarsLine"><b>You have 0 ‚≠ê in this lesson.</b></p>

  <!-- ========== VOCABULARY (jobs & workplaces) ========== -->
  <section>
    <h3>üß† VOCABULARY ‚Äî Jobs and places of work</h3>

    <p><b>Listen to AI Bayan. Choose the correct answer.</b></p>

    <!-- Q1 -->
    <p>1) AI Bayan:
      <button class="btn" onclick="speakVocab('A doctor works in a hospital and helps sick people.')">‚ñ∂ Play</button>
      <button class="btn" onclick="stopBayan()">‚èπ Stop</button>
    </p>
    <p>Where does a doctor work?</p>
    <label><input type="radio" name="v1" value="1"> in a hospital</label><br>
    <label><input type="radio" name="v1" value="0"> at a farm</label><br>
    <label><input type="radio" name="v1" value="0"> at a fire station</label><br>

    <!-- Q2 -->
    <p>2) AI Bayan:
      <button class="btn" onclick="speakVocab('A teacher works at school and teaches children.')">‚ñ∂ Play</button>
      <button class="btn" onclick="stopBayan()">‚èπ Stop</button>
    </p>
    <p>What does a teacher do?</p>
    <label><input type="radio" name="v2" value="1"> teaches children</label><br>
    <label><input type="radio" name="v2" value="0"> grows fruit and vegetables</label><br>
    <label><input type="radio" name="v2" value="0"> flies a plane</label><br>

    <!-- Q3 -->
    <p>3) AI Bayan:
      <button class="btn" onclick="speakVocab('A farmer works on a farm and grows food.')">‚ñ∂ Play</button>
      <button class="btn" onclick="stopBayan()">‚èπ Stop</button>
    </p>
    <p>Who works on a farm?</p>
    <label><input type="radio" name="v3" value="1"> a farmer</label><br>
    <label><input type="radio" name="v3" value="0"> a vet</label><br>
    <label><input type="radio" name="v3" value="0"> a police officer</label><br>

    <!-- Q4 -->
    <p>4) AI Bayan:
      <button class="btn" onclick="speakVocab('A firefighter works at a fire station and puts out fires.')">‚ñ∂ Play</button>
      <button class="btn" onclick="stopBayan()">‚èπ Stop</button>
    </p>
    <p>What does a firefighter do?</p>
    <label><input type="radio" name="v4" value="1"> puts out fires</label><br>
    <label><input type="radio" name="v4" value="0"> cooks food in a restaurant</label><br>
    <label><input type="radio" name="v4" value="0"> sells toys in a shop</label><br>

    <!-- Q5 -->
    <p>5) AI Bayan:
      <button class="btn" onclick="speakVocab('A pilot flies planes and works at the airport.')">‚ñ∂ Play</button>
      <button class="btn" onclick="stopBayan()">‚èπ Stop</button>
    </p>
    <p>Where does a pilot work?</p>
    <label><input type="radio" name="v5" value="1"> at the airport</label><br>
    <label><input type="radio" name="v5" value="0"> at the police station</label><br>
    <label><input type="radio" name="v5" value="0"> in a hospital</label><br>

    <!-- Q6 -->
    <p>6) AI Bayan:
      <button class="btn" onclick="speakVocab('A cook works in a restaurant and makes food.')">‚ñ∂ Play</button>
      <button class="btn" onclick="stopBayan()">‚èπ Stop</button>
    </p>
    <p>Who works in a restaurant?</p>
    <label><input type="radio" name="v6" value="1"> a cook</label><br>
    <label><input type="radio" name="v6" value="0"> a driver</label><br>
    <label><input type="radio" name="v6" value="0"> an astronaut</label><br>

    <button class="btn" onclick="checkVocab()">Check ‚úÖ</button>
    <div id="vocabStars" style="font-size:1.1rem;margin-top:8px;"></div>
  </section>

  <!-- ========== GRAMMAR (Present Simple, do/does, workplace) ========== -->
  <section>
    <h3>üìò GRAMMAR ‚Äî Present Simple & places of work</h3>

    <p><b>1. Present Simple</b></p>
    <p>
      I / you / we / they <b>work</b><br>
      He / she / it <b>works</b><br><br>
      <b>Questions:</b> Do you work? ‚Äî Yes, I do. / Does he work? ‚Äî Yes, he does.
    </p>

    <p><b>Choose the correct form:</b></p>

    <p>1) She ___ in a hospital. She is a doctor.</p>
    <label><input type="radio" name="g1" value="work"> work</label><br>
    <label><input type="radio" name="g1" value="works"> works</label><br>

    <p>2) They ___ in a big school in the city.</p>
    <label><input type="radio" name="g2" value="work"> work</label><br>
    <label><input type="radio" name="g2" value="works"> works</label><br>

    <p>3) Does he ___ a taxi?</p>
    <label><input type="radio" name="g3" value="drive"> drive</label><br>
    <label><input type="radio" name="g3" value="drives"> drives</label><br>

    <hr>

    <p><b>2. Workplaces (in / at)</b></p>

    <p>4) She works ___ a hospital.</p>
    <label><input type="radio" name="g4" value="in"> in</label><br>
    <label><input type="radio" name="g4" value="on"> on</label><br>

    <p>5) He works ___ the airport.</p>
    <label><input type="radio" name="g5" value="at"> at</label><br>
    <label><input type="radio" name="g5" value="in"> in</label><br>

    <button class="btn" onclick="checkGrammar()">Check ‚úÖ</button>
    <div id="grammarStars" style="font-size:1.1rem;margin-top:8px;"></div>

    <p><b>Write your own sentence:</b></p>
    <p>Example: My uncle works at the fire station. He is a firefighter.</p>
    <input id="writeGrammar" type="text" placeholder="Type your sentence here...">
  </section>

  <!-- ========== LISTENING (People at work) ========== -->
  <section>
    <h3>üéß LISTENING ‚Äî People at work</h3>

    <p><b>1. Listen to AI Bayan:</b></p>
    <button class="btn" onclick="bayanListening()">‚ñ∂ Play</button>
    <button class="btn" onclick="stopBayan()">‚èπ Stop</button>

    <p style="margin-top:8px;font-size:0.9rem;color:#444;">
      Listen about three people and their jobs. Then choose True or False.
    </p>

    <p><b>2. True or False?</b></p>

    <p>1) Emma works in a hospital and helps sick people.</p>
    <select id="t1">
      <option>‚Äî</option><option>True</option><option>False</option>
    </select>

    <p>2) Ben is a farmer. He works in a restaurant in the city.</p>
    <select id="t2">
      <option>‚Äî</option><option>True</option><option>False</option>
    </select>

    <p>3) Lucas is a driver. He drives a taxi in the city.</p>
    <select id="t3">
      <option>‚Äî</option><option>True</option><option>False</option>
    </select>

    <button class="btn" onclick="checkListening()">Check ‚úÖ</button>
    <div id="listenStars" style="font-size:1.1rem;margin-top:8px;"></div>
  </section>

  <!-- ========== READING (People at work in the city) ========== -->
  <section>
    <h3>üìñ READING ‚Äî People at work in the city</h3>

    <p><b>1. Read or listen:</b></p>
    <button class="btn" onclick="bayanReading()">‚ñ∂ Play</button>
    <button class="btn" onclick="stopBayan()">‚èπ Stop</button>

    <div style="margin-top:10px; background:#fff2e5; border-radius:10px; padding:10px;">
      <p>
        In the city, many people go to work every day.  
        Doctors work in hospitals and help sick people.  
        Teachers work at schools and teach children.  
        Drivers take people to work and to school in cars, taxis and buses.  
        Cooks work in restaurants and make food for families.  
        All these workers make our city a better place to live.
      </p>
    </div>

    <p><b>2. Answer the questions:</b></p>
    <ol>
      <li>Who teaches children?<br>
        <input id="r1" type="text" placeholder="Your answer..."></li><br>
      <li>Who makes food in restaurants?<br>
        <input id="r2" type="text" placeholder="Your answer..."></li><br>
      <li>Who helps sick people?<br>
        <input id="r3" type="text" placeholder="Your answer..."></li>
    </ol>

    <button class="btn" onclick="checkReading()">Check ‚úÖ</button>
    <div id="readStars" style="font-size:1.1rem;margin-top:8px;"></div>
  </section>

  <!-- ========== SPEAKING ========== -->
  <section>
    <h3>üó£Ô∏è SPEAKING ‚Äî Talk about work</h3>

    <p><b>1. Listen to questions:</b></p>
    <button class="btn" onclick="bayanSpeaking()">‚ñ∂ Play</button>
    <button class="btn" onclick="stopBayan()">‚èπ Stop</button>

    <p style="margin-top:8px;"><b>Questions:</b></p>
    <ul>
      <li>What job do you want to have in the future?</li>
      <li>Where do people with this job work?</li>
      <li>Why is this job important?</li>
    </ul>

    <p><b>2. Answer into the microphone:</b></p>
    <button class="btn" onclick="startSpeak()">üéô Start recording</button>
    <button class="btn" onclick="stopSpeak()">‚èπ Stop</button>

    <div id="speakStars" style="font-size:1.1rem;margin-top:10px;"></div>
  </section>

  <!-- ========== WRITING (daily routines & my day) ========== -->
  <section>
    <h3>‚úçÔ∏è WRITING ‚Äî A day at work</h3>

    <p><b>A. Complete sentences about work.</b></p>

    <p>1) Write about a doctor.</p>
    <input id="w1" type="text" placeholder="Example: A doctor works in a hospital and helps sick people.">

    <p>2) Write about a driver.</p>
    <input id="w2" type="text" placeholder="Example: A driver drives a car or a bus in the city.">

    <p>3) Write about a cook.</p>
    <input id="w3" type="text" placeholder="Example: A cook works in a restaurant and makes food.">

    <button class="btn" onclick="checkWritingSentences()">Check sentences ‚úÖ</button>
    <div id="writeSentStars" style="font-size:1.1rem;margin-top:6px;"></div>

    <hr>

    <p><b>B. My mum / dad at work (or another person)</b></p>
    <p>Write 3‚Äì4 sentences. Use Present Simple to describe work and a typical day.</p>
    <button class="btn" onclick="bayanDictation()">‚ñ∂ Example</button>
    <button class="btn" onclick="stopBayan()">‚èπ Stop</button>

    <textarea id="writeBox" rows="5" placeholder="Write your text here..."></textarea><br>
    <button class="btn" onclick="checkDictation()">Check my text ‚úÖ</button>
    <div id="dictStars" style="font-size:1.1rem;margin-top:6px;"></div>
  </section>

  <!-- ========== LESSON RESULT ========== -->
  <section style="text-align:center;margin-top:25px;">
    <h3>üéØ Lesson Complete!</h3>
    <p>You have earned <b><span id="finalStars">0</span> ‚≠ê</b> in this lesson.</p>

    <button class="btn" onclick="finishLesson()">Save & Show Result ‚úÖ</button>

    <div id="finalMessage" style="margin-top:10px;font-size:1.1rem;color:#b85c00;"></div>

    <div style="margin-top:18px;">
      <button class="btn" onclick="goBack()">‚¨Ö Back</button>
      <button class="btn" onclick="goMenu()">üè† Main Menu</button>
      <button class="btn" onclick="goNext()">Next ‚û°Ô∏è</button>
    </div>
  </section>

  <p style="font-size:0.8rem;color:#444;margin-top:10px;text-align:center;">
    Created by Bayan team
  </p>
</main>

<script>
  // ‚≠ê TOTAL STARS (no limit)
  let totalStars = 0;
  function addStar() {
    totalStars++;
    updateStarsText();
  }
  function updateStarsText(){
    document.getElementById('lessonStarsLine').innerText =
      "You have " + totalStars + " ‚≠ê in this lesson.";
    const fs = document.getElementById('finalStars');
    if(fs) fs.innerText = totalStars;
  }

  // —Ñ–ª–∞–≥–∏, —á—Ç–æ–±—ã –Ω–µ –Ω–∞—á–∏—Å–ª—è—Ç—å –∑–≤–µ–∑–¥—É –≤—Ç–æ—Ä–æ–π —Ä–∞–∑ –∑–∞ —Ç–æ—Ç –∂–µ –æ—Ç–≤–µ—Ç
  const scored = {
    v1:false, v2:false, v3:false, v4:false, v5:false, v6:false,
    g1:false, g2:false, g3:false, g4:false, g5:false,
    l1:false, l2:false, l3:false,
    r1:false, r2:false, r3:false,
    w1:false, w2:false, w3:false,
    dict:false
  };

  // ---------- TTS (AI Bayan voice) ----------
  function speakBayanText(text){
    if(!('speechSynthesis' in window)){
      alert("Your browser does not support speech synthesis üòî");
      return;
    }
    const utter = new SpeechSynthesisUtterance(text);
    utter.lang = "en-US";
    utter.rate = 0.9;
    utter.pitch = 1.05;
    utter.volume = 1;
    const voices = speechSynthesis.getVoices();
    const femaleEn = voices.find(v => v.lang.includes("en") && v.name.toLowerCase().includes("female"));
    if(femaleEn) utter.voice = femaleEn;
    speechSynthesis.speak(utter);
  }

  function stopBayan(){
    window.speechSynthesis.cancel();
  }

  // ---------- VOCABULARY ----------
  function speakVocab(text){
    speakBayanText(text);
  }

  function checkVocab(){
    let starsHere = 0;
    const q1 = document.querySelector('input[name="v1"]:checked');
    if(q1 && q1.value === "1" && !scored.v1){ scored.v1=true; addStar(); starsHere++; }

    const q2 = document.querySelector('input[name="v2"]:checked');
    if(q2 && q2.value === "1" && !scored.v2){ scored.v2=true; addStar(); starsHere++; }

    const q3 = document.querySelector('input[name="v3"]:checked');
    if(q3 && q3.value === "1" && !scored.v3){ scored.v3=true; addStar(); starsHere++; }

    const q4 = document.querySelector('input[name="v4"]:checked');
    if(q4 && q4.value === "1" && !scored.v4){ scored.v4=true; addStar(); starsHere++; }

    const q5 = document.querySelector('input[name="v5"]:checked');
    if(q5 && q5.value === "1" && !scored.v5){ scored.v5=true; addStar(); starsHere++; }

    const q6 = document.querySelector('input[name="v6"]:checked');
    if(q6 && q6.value === "1" && !scored.v6){ scored.v6=true; addStar(); starsHere++; }

    const box = document.getElementById('vocabStars');
    if(starsHere > 0){
      box.innerHTML = "‚≠ê +" + starsHere + " vocabulary stars!";
    } else {
      box.innerHTML = "No new stars. Check answers or you already got them.";
    }
  }

  // ---------- GRAMMAR ----------
  function checkGrammar(){
    let starsHere = 0;

    const q1 = document.querySelector('input[name="g1"]:checked');
    if(q1 && q1.value === "works" && !scored.g1){ scored.g1=true; addStar(); starsHere++; }

    const q2 = document.querySelector('input[name="g2"]:checked');
    if(q2 && q2.value === "work" && !scored.g2){ scored.g2=true; addStar(); starsHere++; }

    const q3 = document.querySelector('input[name="g3"]:checked');
    if(q3 && q3.value === "drive" && !scored.g3){ scored.g3=true; addStar(); starsHere++; }

    const q4 = document.querySelector('input[name="g4"]:checked');
    if(q4 && q4.value === "in" && !scored.g4){ scored.g4=true; addStar(); starsHere++; }

    const q5 = document.querySelector('input[name="g5"]:checked');
    if(q5 && q5.value === "at" && !scored.g5){ scored.g5=true; addStar(); starsHere++; }

    const box = document.getElementById('grammarStars');
    if(starsHere > 0){
      box.innerHTML = "‚≠ê +" + starsHere + " grammar stars!";
    } else {
      box.innerHTML = "No new stars. Check again or you already got them.";
    }
  }

  // ---------- LISTENING ----------
  function bayanListening(){
    const t =
      "First, listen to Emma. She is a doctor. " +
      "She works in a big hospital in the city and helps sick people every day. " +
      "Next, this is Ben. He is a farmer, but he does not work in a restaurant. " +
      "He works on a farm in the countryside and grows food for families. " +
      "Finally, this is Lucas. He is a driver. He drives a taxi in the city and takes people to work and to school.";
    speakBayanText(t);
  }

  function checkListening(){
    let starsHere = 0;

    if(document.getElementById('t1').value === 'True' && !scored.l1){
      scored.l1 = true; addStar(); starsHere++;
    }
    if(document.getElementById('t2').value === 'False' && !scored.l2){
      scored.l2 = true; addStar(); starsHere++;
    }
    if(document.getElementById('t3').value === 'True' && !scored.l3){
      scored.l3 = true; addStar(); starsHere++;
    }

    const box = document.getElementById('listenStars');
    if(starsHere > 0){
      box.innerHTML = "‚≠ê +" + starsHere + " listening stars!";
    } else {
      box.innerHTML = "No new stars. Check your answers.";
    }
  }

  // ---------- READING ----------
  function bayanReading(){
    const t =
      "In the city, many people go to work every day. " +
      "Doctors work in hospitals and help sick people. " +
      "Teachers work at schools and teach children. " +
      "Drivers take people to work and to school in cars, taxis and buses. " +
      "Cooks work in restaurants and make food for families. " +
      "All these workers make our city a better place to live.";
    speakBayanText(t);
  }

  function checkReading(){
    let starsHere = 0;
    const a1 = document.getElementById('r1').value.toLowerCase();
    const a2 = document.getElementById('r2').value.toLowerCase();
    const a3 = document.getElementById('r3').value.toLowerCase();

    if(!scored.r1 &&
       (a1.includes("teacher") || a1.includes("teachers"))){
      scored.r1 = true; addStar(); starsHere++;
    }
    if(!scored.r2 &&
       (a2.includes("cook") || a2.includes("cooks"))){
      scored.r2 = true; addStar(); starsHere++;
    }
    if(!scored.r3 &&
       (a3.includes("doctor") || a3.includes("doctors"))){
      scored.r3 = true; addStar(); starsHere++;
    }

    const box = document.getElementById('readStars');
    if(starsHere > 0){
      box.innerHTML = "‚≠ê +" + starsHere + " reading stars!";
    } else {
      box.innerHTML = "No new stars. Check answers or you already got them.";
    }
  }

  // ---------- SPEAKING ----------
  let recognition;
  function bayanSpeaking(){
    const t =
      "Now let's talk about people at work. " +
      "What job do you want to have in the future? " +
      "Where do people with this job work? " +
      "Why is this job important?";
    speakBayanText(t);
  }

  function startSpeak(){
    if(!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)){
      alert("Speech recognition is not supported in this browser.");
      return;
    }
    const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
    recognition = new SR();
    recognition.lang = "en-US";
    recognition.onresult = function(event){
      const speech = event.results[0][0].transcript.toLowerCase();
      let starsHere = 0;
      if(
        speech.includes("doctor") || speech.includes("teacher") ||
        speech.includes("farmer") || speech.includes("driver") ||
        speech.includes("cook") || speech.includes("police") ||
        speech.includes("pilot") || speech.includes("job") ||
        speech.includes("work") || speech.includes("hospital") ||
        speech.includes("school") || speech.includes("restaurant")
      ){
        addStar();
        starsHere++;
      }
      const box = document.getElementById('speakStars');
      if(starsHere > 0){
        box.innerHTML = "‚≠ê +" + starsHere + " speaking star!<br>You said: " + speech;
      } else {
        box.innerHTML = "You said: " + speech +
          "<br>Try to use words like doctor, teacher, driver, job, work, hospital, school...";
      }
    };
    recognition.start();
  }

  function stopSpeak(){
    if(recognition) recognition.stop();
  }

  // ---------- WRITING: SENTENCES ----------
  function checkWritingSentences(){
    let starsHere = 0;
    const s1 = document.getElementById('w1').value.toLowerCase();
    const s2 = document.getElementById('w2').value.toLowerCase();
    const s3 = document.getElementById('w3').value.toLowerCase();

    if(!scored.w1 &&
       s1.includes("doctor") &&
       (s1.includes("hospital") || s1.includes("sick") || s1.includes("help"))){
      scored.w1 = true; addStar(); starsHere++;
    }

    if(!scored.w2 &&
       s2.includes("driver") &&
       (s2.includes("drive") || s2.includes("car") || s2.includes("bus") || s2.includes("taxi"))){
      scored.w2 = true; addStar(); starsHere++;
    }

    if(!scored.w3 &&
       s3.includes("cook") &&
       (s3.includes("restaurant") || s3.includes("food") || s3.includes("make"))){
      scored.w3 = true; addStar(); starsHere++;
    }

    const box = document.getElementById('writeSentStars');
    if(starsHere > 0){
      box.innerHTML = "‚≠ê +" + starsHere + " writing stars!";
    } else {
      box.innerHTML = "No new stars. Check your sentences or you already got them.";
    }
  }

  // ---------- WRITING: MY MUM / DAD AT WORK ----------
  function bayanDictation(){
    const t =
      "My dad is a driver. He drives a taxi in the city. " +
      "He takes people to work and to school every day. " +
      "My mum is a teacher. She works at a school and teaches children. " +
      "I think their jobs are very important for many people.";
    speakBayanText(t);
  }

  function checkDictation(){
    const text = document.getElementById("writeBox").value.toLowerCase();
    const keywords = [
      "mum","dad","mother","father","job",
      "works","work","driver","doctor","teacher",
      "hospital","school","restaurant","city","because","important"
    ];
    let found = 0;
    for(const w of keywords){
      if(text.includes(w)) found++;
    }
    let starsHere = 0;
    if(!scored.dict && found >= 3){
      scored.dict = true;
      addStar();
      starsHere++;
    }

    const box = document.getElementById('dictStars');
    if(starsHere > 0){
      box.innerHTML = "‚≠ê +" + starsHere + " writing star!";
    } else {
      box.innerHTML = "Try to write 3‚Äì4 sentences and use words like job, works, driver, doctor, teacher, important.";
    }
  }

  // ---------- FINISH + NAVIGATION ----------
  function finishLesson(){
    document.getElementById("finalStars").innerText = totalStars;
    let msg = "";
    if(totalStars >= 20){
      msg = "üåüüåüüåü Excellent! You know a lot about people at work!";
    } else if(totalStars >= 12){
      msg = "üåüüåü Very good! You understand many jobs!";
    } else if(totalStars >= 6){
      msg = "üåü Good start! Keep practising!";
    } else {
      msg = "Keep going! Every star is progress!";
    }
    document.getElementById("finalMessage").innerText = msg;

    const studentName = localStorage.getItem("studentName") || "Unknown Student";
    const allResults = JSON.parse(localStorage.getItem("teacherJournal") || "{}");
    allResults[studentName] = allResults[studentName] || {};
    allResults[studentName]["Lesson 10"] = totalStars;
    localStorage.setItem("teacherJournal", JSON.stringify(allResults));
    localStorage.setItem("lesson10Stars", totalStars);

    alert("Lesson 10 saved! " + studentName + " got " + totalStars + "‚≠ê.");
  }

  function goBack(){ window.location.href = "theme9.html"; }
  function goMenu(){ window.location.href = "index.html"; }
  function goNext(){ window.location.href = "theme11.html"; }

  // init
  updateStarsText();
</script>
  <!-- === Animation & Voice System === -->
<script>
// ====== ‚úÖ CORRECT / ‚ùå WRONG ANIMATION ======
function showResultAnimation(isCorrect, elementId){
  const el=document.getElementById(elementId);
  if(isCorrect){
    el.innerHTML="‚úÖ Correct! ‚≠ê";
    el.style.background="rgba(144,238,144,0.6)";
    el.style.border="2px solid green";
    el.style.transition="0.4s";
    setTimeout(()=>{ el.style.background=""; el.style.border=""; el.innerHTML=""; },1500);
  } else {
    el.innerHTML="‚ùå Try again!";
    el.style.background="rgba(255,182,193,0.6)";
    el.style.border="2px solid red";
    el.style.transition="0.4s";
    navigator.vibrate?.(250);
    setTimeout(()=>{ el.style.background=""; el.style.border=""; el.innerHTML=""; },1500);
  }
}

// ====== üó£Ô∏è AI Bayan Adaptive Voice ======
function bayanSpeak(text){
  const voices=speechSynthesis.getVoices();
  let voice=voices.find(v=>v.lang.includes("en-GB")||v.name.includes("Google UK English Female"));
  if(!voice){ voice=voices[0]; }
  const utter=new SpeechSynthesisUtterance(text);
  utter.voice=voice;
  utter.lang="en-GB";
  utter.rate=0.88;
  utter.pitch=1.0;
  speechSynthesis.speak(utter);
}
</script>
</body>
</html>


